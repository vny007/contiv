<div class="bs-docs-section">
				
	<h1>Installing Contiv Network with Kubernetes</h1>
<p>This page describes how to set up a Contiv cluster using Kubernetes.</p>

<h2>Prerequisites</h2>

<ol>
<li>Install Centos 7.2 on all servers used for the Contiv cluster.
</li>
<li>Ensure that each server has at least two, and preferably three, interfaces.
</li>
<li>If required by your network, set HTTP and HTTPS proxies. Direct the HTTPS proxy to an <em>http://</em> URL (not <em>https://</em>). This is an Ansible requirement.
</li>
<li>Choose a server that is on the management network and has Ansible installed. Run the install procedure below on this node. This <em>install node</em> manages the installation in addition to being part of your cluster.
</li>
<li>The setup scripts use the Python module <em>netaddr</em> and the Linux utility <em>bzip2</em>. If these are not installed on the machine where you are executing these steps, you must install them before proceeding. (You can use the following commands: <a name="yum_install_bzip2_pip_install_netaddr"></a><a href="#yum_install_bzip2_pip_install_netaddr"><code>yum install bzip2; pip install netaddr</code></a>.)
</li>
<li>Enable passwordless SSH access from the installation server to all the other servers in the cluster. 
An example is <a href="http://www.linuxproblem.org/art_9.html">here</a>.
</li>
<li>Enable passwordless sudo on all servers.  An example is 
<a href="http://askubuntu.com/questions/192050/how-to-run-sudo-command-with-no-password">here</a>.
</li>
<li>Make a note of the IP addresses (or DNS names) of all the servers, and of the network
interfaces on which these IP addresses are configured.
</li>
</ol>

<h2>Step 1: Clone the Repository</h2>
<p>Clone the GitHub repository containing the Contiv files:</p>
<pre class="highlight plaintext"><code>git clone https://github.com/contiv/demo
</code></pre>

<h2>Step 2: Clone the Contrib Repository</h2>
<p>Clone the GitHub repository containing the Kubernetes contributed code:</p>
<pre class="highlight plaintext"><code>cd demo/k8s;
git clone https://github.com/jojimt/contrib -b contiv
</code></pre>

<h2>Step 3: Configure the Cluster Information</h2>
<p>Edit the <code>cluster_defs.json</code> file to reflect your cluster information. 
See the <code>cluster_defs.json.README</code> file for instructions.</p>
<p><em>Note</em>: For ACI integration, edit <code>aci.yaml</code>. See <a href="/documents/gettingStarted/networking/aci.html">here</a> for more information.</p>

<h2>Step 4 Prepare the Nodes</h2>
<p>Run the prepare script. Supply the login and <em>sudo</em> passwords when prompted.</p>
<pre class="highlight plaintext"><code>./prepare.sh &lt;login_userid&gt;
</code></pre>

<h2>Step 5: Create the Cluster</h2>
<p>Run the setup script. Supply the login and <em>sudo</em> passwords when prompted.
This script can take several minutes to complete.</p>
<pre class="highlight plaintext"><code>./setup_k8s_cluster.sh &lt;login_userid&gt;
</code></pre>

<h2>Step 6 Verify the Cluster</h2>
<p>Run the verification script. Supply the login and <em>sudo</em> passwords when prompted.</p>
<pre class="highlight plaintext"><code>./verify_cluster.sh &lt;login_userid&gt;
</code></pre>


			</div>